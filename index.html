<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        let geral = []

        function cadastrarAlunos(){
                while (true) {
                    let contador = 1
                    for (let linha = 0; linha < contador; linha++) {
                        geral[linha] = []
                        geral[linha][0] =+prompt("Digite a matrícula")
                        geral[linha][1] = prompt("Digite o nome do aluno")
                    if (novoCadastro() == true){
                        contador++
                    } else {
                        return 
                    }
                }
            }
        }
        
        function menu(){  
            while(true){
                let numero = +prompt("1) Cadastrar aluno\n2) Editar informações do aluno\n3) Cadastrar notas de um aluno\n4) Listar alunos\n0) Sair")
                for(let i = 0;i < 5;i++){
                    if(numero == i){
                        return numero
                    } else if (i == 4){
                    alert("Digite um número válido")
                    }
                }
                
            }   
        }

        function matriculaExiste(){
            let matricula = +prompt("Qual a matricula do aluno?")
            while(true){
                for(let i = 0;i < geral.length + 1;i++){
                    if(matricula == geral[i][0]){
                        return i
                    } else if(i == geral.length + 1){
                        alert("Digite uma matricula válida!")
                    }
                }
            }
        }

        function editarNome(){
            let i = matriculaExiste(geral)
            let novoNome = prompt("Que nome deseja colocar?")
            geral[i][1] = novoNome
        }
        
        function novoCadastro() {
                return confirm(`Você quer resgistrar outro usuário?`)            
            }


            function mostrarCadastros() {
            let mostrarResultado = ""
            for (let i = 0; i < 3; i++) {
                for (let j = 0; j < 3; j++) {
                    mostrarResultado += geral[i][j] + "\t"
                }
                mostrarResultado += "\n"
            }
        }

        function receberNotas(geral){
           let j = matriculaExiste()
            let soma = 0
                for(let i = 2; i < 5; i++){
                    geral[j][i] = +prompt(`Digite a ${i - 1}ª nota:`)
                        soma += geral[j][i]
                }
            return [soma,j]
            }    

      function guardaNotas(){
        let [soma,j] = receberNotas(geral)
            geral[j].push = soma/ 3
      }


        verificador :
        while(true){        
        switch (menu()) {
            case 1:
                cadastrarAlunos()
                break;
        
            case 2:
                editarNome()
                break;


            case 3:
                guardaNotas()
                break

            case 4:
                mostrarCadastros()
                break;
            
            default:
                break verificador
            }
        }
        console.log(geral)
        
       
    </script>
</body>
</html>